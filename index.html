<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>Habify ‚Äî –æ—Ñ–ª–∞–π–Ω-—Ç—Ä–µ–∫–µ—Ä –ø—Ä–∏–≤—ã—á–µ–∫ (cookie only)</title>
  <meta name="theme-color" content="#0b0c10"/>
  <link rel="manifest" href="manifest.json"/>
  <link rel="stylesheet" href="styles.css"/>
</head>
<body>
  <div id="envWarning" class="envwarn hidden">
    ‚ö†Ô∏è –û—Ç–∫—Ä—ã—Ç–æ –∫–∞–∫ <code>file://</code>. Cookie/–æ—Ñ—Ñ–ª–∞–π–Ω —Ç—É—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç. –û—Ç–∫—Ä–æ–π —á–µ—Ä–µ–∑
    <code>http://localhost</code> –∏–ª–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Ö–æ—Å—Ç–∏–Ω–≥.
  </div>

  <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å -->
  <header class="topbar">
    <div class="brand">
      <div class="logo">Hf</div>
      <div class="btext">
        <div class="title">Habify</div>
        <div class="subtitle">–æ—Ñ—Ñ–ª–∞–π–Ω ‚Ä¢ cookie only</div>
      </div>
    </div>

    <nav class="tabs">
      <button class="tab active" data-page="home">–ì–ª–∞–≤–Ω–∞—è</button>
      <button class="tab" data-page="stats">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
      <button class="tab" data-page="gallery">–ì–∞–ª–µ—Ä–µ—è</button>
    </nav>

    <div class="toolbar">
      <button id="btnInfo" class="icon" title="–ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç cookie">‚ìò</button>
      <button id="btnSettings" class="icon" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">‚öôÔ∏è</button>
      <button id="btnProfile" class="avatar" title="–ü—Ä–æ—Ñ–∏–ª—å"><span id="avatarEmoji">üôÇ</span></button>
    </div>
  </header>

  <!-- –û—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Ä–∞–Ω –Ω–∞ –≤—Å—é –≤—ã—Å–æ—Ç—É -->
  <main class="screen">
    <!-- –ì–ª–∞–≤–Ω–∞—è -->
    <section id="page-home" class="page show">
      <div class="hero card">
        <div class="hero-left">
          <div class="hello">
            <span id="helloName">–ü—Ä–∏–≤–µ—Ç!</span>
            <span class="muted">–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ cookie.</span>
          </div>
          <div class="kpis">
            <div class="kpi"><div class="k">XP</div><div id="xpVal" class="v">0</div></div>
            <div class="kpi"><div class="k">–ü—Ä–∏–≤—ã—á–µ–∫</div><div id="habCount" class="v">0</div></div>
            <div class="kpi"><div class="k">–°–µ–≥–æ–¥–Ω—è</div><div id="doneToday" class="v">0</div></div>
          </div>
          <div class="progress">
            <div class="progress-label">–ü—Ä–æ–≥—Ä–µ—Å—Å –Ω–µ–¥–µ–ª–∏</div>
            <div class="bar"><span id="weekBar"></span></div>
          </div>
        </div>
        <div class="hero-right">
          <img class="ill" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/1f4aa.svg" alt="strength" />
          <div class="pill">–æ—Ñ—Ñ–ª–∞–π–Ω</div>
          <div class="pill">cookie</div>
          <div class="pill">–±–µ–∑ –ë–î</div>
        </div>
      </div>

      <h2 class="h2">–°–µ–≥–æ–¥–Ω—è</h2>
      <div id="todayList" class="list"></div>
      <div id="todayEmpty" class="empty muted">–°–µ–≥–æ–¥–Ω—è –ø—É—Å—Ç–æ. –î–æ–±–∞–≤—å –ø—Ä–∏–≤—ã—á–∫—É –∫–Ω–æ–ø–∫–æ–π ¬´+¬ª.</div>
    </section>

    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
    <section id="page-stats" class="page">
      <div class="grid">
        <div class="card stat"><div class="label">–õ—É—á—à–∞—è —Å–µ—Ä–∏—è</div><div id="bestStreak" class="big">0</div></div>
        <div class="card stat"><div class="label">–í—ã–ø–æ–ª–Ω–µ–Ω–∏–π (14 –¥–Ω–µ–π)</div><div id="sum14" class="big">0</div></div>
        <div class="card stat"><div class="label">–õ—É—á—à–∏–π –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏</div><div id="bestDow" class="big">‚Äî</div></div>
      </div>
      <h2 class="h2">–ò—Å—Ç–æ—Ä–∏—è (14 –¥–Ω–µ–π)</h2>
      <div id="historyBoard" class="history"></div>
      <div class="hint muted">–ù–∞–∂–º–∏ ¬´–ò—Å—Ç–æ—Ä–∏—è¬ª –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ, —á—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å –ª—é–±—É—é –ø—Ä–æ—à–µ–¥—à—É—é –¥–∞—Ç—É.</div>
    </section>

    <!-- –ì–∞–ª–µ—Ä–µ—è (–æ—Ñ–ª–∞–π–Ω ¬´—Å–æ—Ü—Å–µ—Ç—å¬ª) -->
    <section id="page-gallery" class="page">
      <div class="card">
        <h2>–ì–∞–ª–µ—Ä–µ—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–æ—Ñ–ª–∞–π–Ω)</h2>
        <p class="muted">–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π —Å—Ç—Ä–æ–∫—É —ç–∫—Å–ø–æ—Ä—Ç–∞ –¥—Ä—É–≥–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –µ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ª–æ–∫–∞–ª—å–Ω–æ (–Ω–∞ —Ç–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ —ç—Ç–æ –Ω–µ –≤–ª–∏—è–µ—Ç).</p>
        <div class="row">
          <textarea id="guestText" placeholder="–í—Å—Ç–∞–≤—å —Å—Ç—Ä–æ–∫—É —ç–∫—Å–ø–æ—Ä—Ç–∞ –¥—Ä—É–≥–∞"></textarea>
          <button id="btnAddGuest" class="btn primary">–î–æ–±–∞–≤–∏—Ç—å</button>
        </div>
      </div>
      <div id="guestList" class="list"></div>
      <div id="guestEmpty" class="empty muted">–ü–æ–∫–∞ –ø—É—Å—Ç–æ.</div>
    </section>
  </main>

  <!-- –ü–ª–∞–≤–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞ -->
  <button id="btnAdd" class="fab" title="–ù–æ–≤–∞—è –ø—Ä–∏–≤—ã—á–∫–∞">+</button>

  <!-- –î–∏–∞–ª–æ–≥–∏ -->
  <!-- –ü—Ä–∏–≤—ã—á–∫–∞ -->
  <dialog id="dlgHabit">
    <form method="dialog" id="habitForm" class="modal">
      <h3 id="habitTitle">–ù–æ–≤–∞—è –ø—Ä–∏–≤—ã—á–∫–∞</h3>
      <label>–ù–∞–∑–≤–∞–Ω–∏–µ
        <input id="fName" type="text" maxlength="64" required placeholder="–ü–∏—Ç—å –≤–æ–¥—É"/>
      </label>
      <fieldset>
        <legend>–ß–∞—Å—Ç–æ—Ç–∞</legend>
        <label><input type="radio" name="mode" value="daily" checked> –ï–∂–µ–¥–Ω–µ–≤–Ω–æ</label>
        <label><input type="radio" name="mode" value="days"> –ü–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏</label>
      </fieldset>
      <div id="daysSel" class="days">
        <label><input type="checkbox" value="1" checked> –ü–Ω</label>
        <label><input type="checkbox" value="2" checked> –í—Ç</label>
        <label><input type="checkbox" value="3" checked> –°—Ä</label>
        <label><input type="checkbox" value="4" checked> –ß—Ç</label>
        <label><input type="checkbox" value="5" checked> –ü—Ç</label>
        <label><input type="checkbox" value="6"> –°–±</label>
        <label><input type="checkbox" value="0"> –í—Å</label>
      </div>
      <div class="row end">
        <button class="btn" id="btnCancelHabit" type="button">–û—Ç–º–µ–Ω–∞</button>
        <button class="btn primary" id="btnSaveHabit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      </div>
      <input type="hidden" id="fId"/>
    </form>
  </dialog>

  <!-- –ò—Å—Ç–æ—Ä–∏—è -->
  <dialog id="dlgHistory">
    <form class="modal" method="dialog">
      <h3>–ò—Å—Ç–æ—Ä–∏—è: <span id="histName"></span></h3>
      <div class="cal-wrap">
        <label class="muted small">–ú–µ—Å—è—Ü: <input type="month" id="histMonth"/></label>
        <div id="calendar" class="calendar"></div>
      </div>
      <div class="row">
        <label>–î–∞—Ç–∞: <input type="date" id="histDate"/></label>
        <label>–†–∞–∑: <input type="number" id="histCount" min="0" step="1" value="1"/></label>
      </div>
      <div class="row end">
        <button class="btn" id="btnCancelHistory" type="button">–ó–∞–∫—Ä—ã—Ç—å</button>
        <button class="btn primary" id="btnSaveHistory">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      </div>
      <input type="hidden" id="histHabitId"/>
    </form>
  </dialog>

  <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
  <dialog id="dlgSettings">
    <form class="modal" method="dialog">
      <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
      <div class="row">
        <label>–¢–µ–º–∞
          <select id="theme">
            <option value="auto">–ê–≤—Ç–æ</option>
            <option value="dark">–¢—ë–º–Ω–∞—è</option>
            <option value="light">–°–≤–µ—Ç–ª–∞—è</option>
          </select>
        </label>
        <label>–ò–≤–µ–Ω—Ç—ã (–±–æ–Ω—É—Å XP)
          <select id="eventSelect">
            <option value="thu2">–°–ø–æ—Ä—Ç –ø–æ —á–µ—Ç–≤–µ—Ä–≥–∞–º √ó2</option>
            <option value="none">–ë–µ–∑ –±–æ–Ω—É—Å–æ–≤</option>
          </select>
        </label>
      </div>

      <details class="box">
        <summary>–≠–∫—Å–ø–æ—Ä—Ç / –ò–º–ø–æ—Ä—Ç</summary>
        <div class="row wrap">
          <button id="btnCopyExport" type="button" class="btn">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —ç–∫—Å–ø–æ—Ä—Ç</button>
          <button id="btnDownloadExport" type="button" class="btn">–°–∫–∞—á–∞—Ç—å –±—ç–∫–∞–ø</button>
          <input id="impText" placeholder="–í—Å—Ç–∞–≤—å —Å—Ç—Ä–æ–∫—É —ç–∫—Å–ø–æ—Ä—Ç–∞"/>
          <button id="btnDoImport" type="button" class="btn primary">–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
        </div>
      </details>

      <div class="row end">
        <button class="btn danger" id="btnReset" type="button">–°–±—Ä–æ—Å–∏—Ç—å –≤—Å—ë</button>
        <button class="btn primary">–ì–æ—Ç–æ–≤–æ</button>
      </div>
    </form>
  </dialog>

  <!-- –ü—Ä–æ—Ñ–∏–ª—å -->
  <dialog id="dlgProfile">
    <form class="modal" method="dialog">
      <h3>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h3>
      <div class="row wrap">
        <label>–ò–º—è <input id="profName" maxlength="24" placeholder="–í–∞—à–µ –∏–º—è"/></label>
        <div>
          <div class="muted small">–ê–≤–∞—Ç–∞—Ä</div>
          <div id="avatarPick" class="avatars">
            <button type="button">üôÇ</button><button type="button">üòé</button><button type="button">ü¶ä</button>
            <button type="button">üêº</button><button type="button">üêØ</button><button type="button">üêß</button>
          </div>
        </div>
      </div>
      <div class="row end">
        <button class="btn" type="button" id="btnCancelProfile">–û—Ç–º–µ–Ω–∞</button>
        <button class="btn primary" id="btnSaveProfile">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      </div>
    </form>
  </dialog>

  <!-- –ò–Ω—Ñ–æ –ø—Ä–æ cookie -->
  <dialog id="dlgInfo">
    <form class="modal" method="dialog">
      <h3>–ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç cookie –≤ Habify</h3>
      <ol>
        <li>–î–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –≤ <b>cookie</b> –≤–∞—à–µ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞.</li>
        <li>–ù–∏—á–µ–≥–æ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä.</li>
        <li>–û—Ç–∫—Ä—ã–≤–∞–π—Ç–µ —Å–∞–π—Ç –ø–æ <b>http(s)</b>, –∞ –Ω–µ <code>file://</code>.</li>
        <li>–≠–∫—Å–ø–æ—Ä—Ç ‚Äî —Å—Ç—Ä–æ–∫–∞/—Ñ–∞–π–ª, –¥–µ–ª–∏—Ç—Å—è –≤—Ä—É—á–Ω—É—é.</li>
      </ol>
      <div class="row end"><button class="btn primary">–ü–æ–Ω—è—Ç–Ω–æ</button></div>
    </form>
  </dialog>

  <!-- –û–Ω–±–æ—Ä–¥–∏–Ω–≥ (–ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫) -->
  <dialog id="dlgOnboard">
    <form class="modal" method="dialog">
      <h3>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Habify üëã</h3>
      <ol>
        <li>–ù–∞–∂–º–∏ <b>+</b>, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –ø—Ä–∏–≤—ã—á–∫—É (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ –∏–ª–∏ –ø–æ –¥–Ω—è–º).</li>
        <li>–û—Ç–º–µ—á–∞–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ <b>‚àí / +</b> ‚Äî –º–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –∑–∞ –¥–µ–Ω—å.</li>
        <li>–ü—Ä–æ—à–ª—ã–µ –¥–Ω–∏ ‚Äî —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É <b>–ò—Å—Ç–æ—Ä–∏—è</b> (—É–¥–æ–±–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å).</li>
        <li>XP ‚Äî –≤–∞–ª—é—Ç–∞: –±–æ–Ω—É—Å √ó2 –ø–æ —á–µ—Ç–≤–µ—Ä–≥–∞–º (–º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –≤ ‚öôÔ∏è).</li>
        <li>–î–∞–Ω–Ω—ã–µ –æ—Ñ—Ñ–ª–∞–π–Ω, —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ <b>cookie</b>; —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç ‚Äî –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö.</li>
      </ol>
      <label class="muted small"><input type="checkbox" id="onbDont"> –ë–æ–ª—å—à–µ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å</label>
      <div class="row end"><button class="btn primary">–ù–∞—á–∞—Ç—å</button></div>
    </form>
  </dialog>

  <div id="toast" class="toast"></div>
  <button id="btnTips" class="tips-btn" title="–ü–æ–¥—Å–∫–∞–∑–∫–∏">?</button>

  <script src="script.js"></script>
</body>
</html>
